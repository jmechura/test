<div class="mss-view-container">

  <!--header-->
  <div class="mss-header-row">
    <span class="mss-title">{{'templates.list.title' | translate}}</span>
    <mss-button class="mss-action-button" [label]="'templates.list.addTemplate' | translate"
                routerLink="/platform/templates/add"></mss-button>
  </div>

  <!--Filters-->
  <div [formGroup]="filterForm">
    <div class="row">
      <div class="column">
        <div class="row wrapped">
          <mss-input class="filter-item" formControlName="name"
                     [label]="'basic.name' | translate" labelPosition="top">
          </mss-input>
          <mss-input class="filter-item" formControlName="system"
                     [label]="'templates.dictionary.system' | translate" labelPosition="top">
          </mss-input>
          <mss-select class="filter-item" formControlName="resource" [options]="resourcesArray"
                      [label]="'basic.resource' | translate" labelPosition="top" [clearAble]="true">
          </mss-select>
        </div>
      </div>
      <div class="column">
        <mss-button class="mss-action-button clear" (click)="clearFilter()" [label]="'basic.clearFilter' | translate"></mss-button>
      </div>
    </div>
    <div class="mss-buttons-row start">
      <mss-button class="mss-action-button" (click)="getTemplates()" [label]="'basic.search' | translate"></mss-button>
    </div>
  </div>

  <!--template data table-->
  <div class="data-table-container">
    <ngx-datatable #table [loadingIndicator]="loading" [columnMode]="'force'" [externalPaging]="true"
                   [count]="totalItems" [limit]="rowLimit" [rows]="templates"
                   (page)="setPage($event)"
                   [headerHeight]="50" [footerHeight]="50" [rowHeight]="'auto'" selectionType="single" (select)="onSelect($event)">>

      <ngx-datatable-column [name]="'basic.code' | translate" prop="code">
        <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
          <span class="cell" title="Click to detail">{{value}}</span>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column [name]="'basic.name' | translate" prop="name">
        <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
          <span class="cell" title="Click to detail">{{value}}</span>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column [name]="'basic.resource' | translate" prop="resource">
        <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
          <span class="cell" title="Click to detail">{{value}}</span>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-column [name]="'templates.dictionary.system' | translate" prop="system">
        <ng-template ngx-datatable-cell-template let-value="value" let-row="row">
          <span class="cell" title="Click to detail">{{value}}</span>
        </ng-template>
      </ngx-datatable-column>

      <ngx-datatable-footer>
        <ng-template
          ngx-datatable-footer-template>
          <mss-table-footer
            [page]="pageNumber"
            [rowsShown]="rowLimit"
            [rowCount]="totalItems"
            (rowsShownChange)="changeLimit($event)"
            (changePage)="table.onFooterPage($event)"
            class="d-table-footer">
          </mss-table-footer>
        </ng-template>
      </ngx-datatable-footer>

    </ngx-datatable>
  </div>
</div>
